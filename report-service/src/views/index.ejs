<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Gerar Relat√≥rio</title>
</head>

<body>
    <header>
        <span>üìö API Relatorio - Relat√≥rios</span>
        <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
    </header>
    <main>
        <h1>Gerar Relat√≥rio da Turma</h1>

        <form method="POST" action="/relatorio">
            <label>Turma:</label>
            <select name="turma_id">
                <% turmas.forEach(t=> { %>
                    <option value="<%= t.id %>">
                        <%= t.nome %>
                    </option>
                    <% }) %>
            </select>

            <label>Professor (opcional):</label>
            <select name="professor_id">
                <option value="">-- Todos --</option>
                <% professores.forEach(p=> { %>
                    <option value="<%= p.id %>">
                        <%= p.nome %>
                    </option>
                    <% }) %>
            </select>

            <label>Atividade (opcional):</label>
            <select name="atividade_id">
                <option value="">-- Todas --</option>
                <% atividades.forEach(a=> { %>
                    <option value="<%= a.id %>">
                        <%= a.nome %>
                    </option>
                    <% }) %>
            </select>


            <label>Presen√ßa:</label>
            <select name="presenca">
                <option value="">-- Todas --</option>
                <option value="Presente">Presente</option>
                <option value="Faltou">Faltou</option>
            </select>

            <label>Conceito:</label>
            <select name="conceito">
                <option value="">-- Todos --</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
                <option value="E">E</option>
            </select>

            <label>Status:</label>
            <select name="status">
                <option value="">-- Todos --</option>
                <option value="Aprovado">Aprovado</option>
                <option value="Reprovado">Reprovado</option>
            </select>

            <label>Tipo de relat√≥rio:</label>
            <select name="tipo">
                <option value="detalhado">Detalhado + Estat√≠sticas</option>
                <option value="lista">Lista Filtrada</option>
            </select>

            <button type="submit">üìä Gerar Relat√≥rio</button>
        </form>
    </main>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const current = html.getAttribute("data-theme");
            const newTheme = current === "dark" ? "light" : "dark";
            html.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
            document.querySelector(".theme-toggle").textContent = newTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
        }
        (function () {
            const saved = localStorage.getItem("theme") || "light";
            document.documentElement.setAttribute("data-theme", saved);
            document.querySelector(".theme-toggle").textContent = saved === "dark" ? "‚òÄÔ∏è" : "üåô";
        })();
    </script>

</body>

</html>